<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Root</title>

        <style>
        </style>
        <script>
            function findGetParameter(parameterName) {
                var result = null,
                    tmp = [];
                var items = location.search.substr(1).split("&");
                for (var index = 0; index < items.length; index++) {
                    tmp = items[index].split("=");
                    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
                }
                return result;
            }
            
            function onLoad() {
                var tmp = document.getElementById("record");
                if (findGetParameter("ACTION") === "START") {
                    tmp.innerHTML = "Stop recording";
                    tmp.href = "/?ACTION=STOP";
                } else {
                    tmp.innerHTML = "Start recording";
                    tmp.href = "/?ACTION=START";
                }

                var save = document.getElementById("save");
                save.addEventListener('click', function() {
                    var name = document.getElementById("name");
                    save.href += name.value;
                })
            }
        </script>
    </head>
    <body onload="onLoad()">
        <a href="/login?DISCONNECT=YES">disconnect</a>
        <a id="record" href="/?ACTION=START">Start recording</a>
        <a id="save" href="/?ACTION=SAVE&NAME=">Save recordings</a>
        <a href="/?ACTION=DELETE">Delete recordings</a>
        <input id="name" type="text">Recording name:</input>
    </body>
</html>